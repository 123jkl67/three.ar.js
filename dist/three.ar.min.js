!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadBlocksModel=t.getARDisplay=t.isARDisplay=t.isARKit=t.isTango=void 0;var n=r(8);THREE.ARUtils=Object.create(null),THREE.ARUtils.isTango=function(e){return e&&e.displayName.toLowerCase().includes("tango")};var i=t.isTango=THREE.ARUtils.isTango;THREE.ARUtils.isARKit=function(e){return e&&e.displayName.toLowerCase().includes("arkit")};var o=t.isARKit=THREE.ARUtils.isARKit;THREE.ARUtils.isARDisplay=function(e){return o(e)||i(e)};var a=t.isARDisplay=THREE.ARUtils.isARDisplay;THREE.ARUtils.getARDisplay=function(){return new Promise(function(e,t){if(!navigator.getVRDisplays)return void e(null);navigator.getVRDisplays().then(function(t){if(!t&&0===t.length)return void e(null);var r=!0,n=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var l=o.value;if(a(l))return void e(l)}}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}e(null)})})};t.getARDisplay=THREE.ARUtils.getARDisplay;THREE.ARUtils.loadBlocksModel=function(e,t){return new Promise(function(r,i){if(!THREE.OBJLoader||!THREE.MTLLoader)return void i(new Error("Must include THREE.OBJLoader and THREE.MTLLoader"));var o=Promise.resolve();t&&(o=(0,n.loadMtl)(t)),o.then(function(t){return t&&t.preload(),(0,n.loadObj)(e,t)}).then(function(e){var t=e.children[0];return t.geometry.applyMatrix((new THREE.Matrix4).makeRotationY(THREE.Math.degToRad(-90))),t}).then(r,i)})};t.loadBlocksModel=THREE.ARUtils.loadBlocksModel},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},l=void 0,s=function(e){function t(e,r,o,a,u){n(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o,a,u));return l.isARPerpsectiveCamera=!0,l.vrDisplay=e,l.updateProjectionMatrix(),l}return o(t,e),a(t,[{key:"updateProjectionMatrix",value:function(){var e=this.getProjectionMatrix();if(!e)return void u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateProjectionMatrix",this).call(this);this.projectionMatrix.fromArray(e)}},{key:"getProjectionMatrix",value:function(){return this.vrDisplay&&this.vrDisplay.getFrameData?(l||(l=new VRFrameData),this.vrDisplay.getFrameData(l),l.projectionMatrix):null}}]),t}(THREE.PerspectiveCamera);THREE.ARPerspectiveCamera=s,t.default=s},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=new THREE.Vector3,l=new THREE.Vector3,s=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.025,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.03,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16711799,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.25;n(this,t);var l=new THREE.RingGeometry(r,o,36,64),s=new THREE.MeshBasicMaterial({color:a}),c=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l,s));return c.easing=u,c.vrDisplay=e,c._planeDir=new THREE.Vector3,c}return o(t,e),a(t,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(this.vrDisplay&&this.vrDisplay.hitTest){var r=this.vrDisplay.hitTest(e,t);if(r){var n=r.point,i=r.plane;u.fromArray(n),this.position.lerp(u,this.easing),l.fromArray(i),this._planeDir.lerp(l,this.easing),u.addVectors(this._planeDir,this.position),this.lookAt(u)}}}}]),t}(THREE.Mesh);THREE.ARReticle=s,t.default=s},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=r(0),l=function(){function e(t){n(this,e),this.vrDisplay=t,this.scene=new THREE.Scene,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,100),this.mesh=new a.default(t),this.scene.add(this.mesh)}return i(e,[{key:"update",value:function(){this.mesh.updateOrientation()}},{key:"render",value:function(e){(0,u.isARKit)(this.vrDisplay)||e.render(this.scene,this.camera)}}]),e}();THREE.ARView=l,t.default=l},function(e,t,r){"use strict";e.exports="#extension GL_OES_EGL_image_external : require\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vUV;\n\nuniform samplerExternalOES map;\n\nvoid main(void) {\n  gl_FragColor = texture2D(map, vUV);\n}\n"},function(e,t,r){"use strict";e.exports="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  vUV = uv;\n}\n"},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=new THREE.BufferGeometry,r=new Float32Array([-1,1,0,-1,-1,0,1,1,0,1,-1,0]);return t.addAttribute("position",new THREE.BufferAttribute(r,3)),t.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(e),2)),t.setIndex(new THREE.BufferAttribute(new Uint16Array([0,1,2,2,1,3]),1)),t.computeBoundingSphere(),t}function l(e,t){return[new Float32Array([0,0,0,t,e,0,e,t]),new Float32Array([e,0,0,0,e,t,0,t]),new Float32Array([e,t,e,0,0,t,0,0]),new Float32Array([0,t,e,t,0,0,e,0])]}function s(e){if(!e)return new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide});e.readyState=2,e.HAVE_CURRENT_DATA=2;var t=new THREE.VideoTexture(e);return t.minFilter=THREE.NearestFilter,t.magFilter=THREE.NearestFilter,t.format=THREE.RGBFormat,t.flipY=!1,new THREE.RawShaderMaterial({uniforms:{map:{value:t}},vertexShader:y.default,fragmentShader:E.default,side:THREE.DoubleSide})}function c(e){switch(e){case 90:return 1;case 180:return 2;case 270:return 3;default:return 0}}function f(e){var t=e?e.orientation:0;return(c(screen.orientation.angle)-c(t)+4)%4}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(0),v=r(5),y=n(v),h=r(4),E=n(h),R=function(e){function t(e){i(this,t),console.log(e);var r=e.getPassThroughCamera();if(!(0,d.isARDisplay)(e)||(0,d.isARKit)(e)){var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new THREE.BufferGeometry,new THREE.MeshBasicMaterial));return o(n)}var a=r.width/r.textureWidth,c=r.height/r.textureHeight,f=l(a,c),p=u(f[0]),v=s(r),n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,p,v));return n.arCamera=r,n.uvs=f,n.currentUVIndex=0,n.updateOrientation(),o(n)}return a(t,e),p(t,[{key:"updateOrientation",value:function(){if(this.arCamera){var e=f(this.arCamera);if(e!==this.currentUVIndex){for(var t=this.geometry.getAttribute("uv"),r=this.uvs[e],n=0;n<t.length;n++)t.array[n]=r[n];t.needsUpdate=!0,this.currentUVIndex=e}}}}]),t}(THREE.Mesh);t.default=R},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=r(1),o=(n(i),r(2)),a=(n(o),r(0)),u=(n(a),r(3));n(u)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){};t.loadObj=function(e,t){return new Promise(function(r,i){var o=new THREE.OBJLoader;t&&o.setMaterials(t),o.load(e,r,n,i)})},t.loadMtl=function(e){return new Promise(function(t,r){var i=new THREE.MTLLoader,o=e.split("/");o.length>=2&&i.setTexturePath(o[o.length-2]),i.load(e,t,n,r)})}}]);